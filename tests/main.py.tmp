from persona_agent import PersonaAgent, DOCTOR_PROFILE

# 1. Define how to call your model
def dummy_model(prompt: str, **kwargs) -> str:
  # Replace this with a real LLM call
  return f"(Model responding to): {prompt[:80]}..."

# 2. Instantiate a PersonaAgent
agent = PersonaAgent(
  name="Dr. Maple",
  model=dummy_model,
  persona=DOCTOR_PROFILE,
)

# 3. Interact
response = agent.react("What are common symptoms of generalized myasthenia gravis?")
print(response)

# 4. Add and use skills
def search_literature(query: str) -> str:
  # Stub: connect to your own system
  return f"Search result for: {query}"

agent.add_skill("search_literature", search_literature)

result = agent.call_skill("search_literature", "efgartigimod gMG phase 3")
print(result)

# 5. Check memory
agent.react("Hello!")
agent.react("Tell me a joke about neurons.")
print(agent.memory.recent(5))